"""Multilingual messages for bot."""

MESSAGES = {
    'uz': {
        'auth_required': "â›” Avval ro'yxatdan o'ting: /start",
        'balance_month': "ðŸ’° **Oylik balans**\n\n",
        'income': "ðŸ“ˆ Daromad",
        'expense': "ðŸ“‰ Xarajat",
        'total': "ðŸ’µ Jami",
        'stats_month': "ðŸ“Š **Oylik statistika**\n\n",
        'balance': "ðŸ’° Balans",
        'by_categories': "Kategoriyalar bo'yicha:\n",
        'other': "Boshqa",
        'stats_error': "âŒ Statistikani olishda xatolik",
        'expense_recorded': "xarajat yozildi!",
        'income_recorded': "daromad yozildi!",
        'welcome_back': "Salom, {name}! ðŸ‘‹\n\nSiz allaqachon tizimga kirgansiz.",
        'welcome_new': "Salom, {name}! ðŸ‘‹\n\nMen sizning moliyaviy yordamchingizman.\n\nIshni boshlash uchun:\n/register - ro'yxatdan o'tish\n/login - kirish",
        'choose_language': "Tilni tanlang / Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑÐ·Ñ‹Ðº:",
        'share_phone': "ðŸ“± Telefon raqamni yuborish",
        'intro_ask_name': "Tanishamiz! ðŸ‘‹\n\nIsmingiz nima?",
        'intro_ask_phone': "Tanishganimdan xursandman, {name}! ðŸ˜Š\n\nTelefon raqamingizni yuboring:",
        'register_prompt': "Ro'yxatdan o'tish uchun telefon raqamingizni yuboring:",
        'use_button': "âŒ Iltimos, pastdagi tugmani bosing",
        'reg_success': "âœ… Muvaffaqiyatli ro'yxatdan o'tdingiz!\n\nEndi tranzaksiyalarni qo'shishingiz mumkin.",
        'login_success': "âœ… Tizimga kirdingiz!",
        'cancelled': "âŒ Bekor qilindi.",
        'listening': "ðŸŽ¤ Eshityapman...",
        'voice_error': "âŒ Ovozni aniqlab bo'lmadi. Qayta urinib ko'ring yoki yozing.",
        'edit_btn': "âœï¸ Tahrirlash",
        'delete_btn': "ðŸ—‘ O'chirish",
        'edit_prompt': "âœï¸ **Tahrirlash**\n\nYangi summa, tavsif yoki kategoriyani yozing:",
        'deleted': "ðŸ—‘ O'chirildi",
        'updated': "âœ… Yangilandi!",
        'not_understood': "âŒ Tushunmadim. Qayta urinib ko'ring.",
        'error_generic': "âŒ Xatolik yuz berdi",
        'your_balance': "Sizning balansingiz",
        'error_occurred': "Xatolik yuz berdi",
        'statistics_title': "ðŸ“Š Statistika",
    },
    'ru': {
        'auth_required': "â›” Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·ÑƒÐ¹ÑÑ: /start",
        'balance_month': "ðŸ’° **Ð‘Ð°Ð»Ð°Ð½Ñ Ð·Ð° Ð¼ÐµÑÑÑ†**\n\n",
        'income': "ðŸ“ˆ Ð”Ð¾Ñ…Ð¾Ð´",
        'expense': "ðŸ“‰ Ð Ð°ÑÑ…Ð¾Ð´", 
        'total': "ðŸ’µ Ð˜Ñ‚Ð¾Ð³Ð¾",
        'stats_month': "ðŸ“Š **Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð·Ð° Ð¼ÐµÑÑÑ†**\n\n",
        'balance': "ðŸ’° Ð‘Ð°Ð»Ð°Ð½Ñ",
        'by_categories': "ÐŸÐ¾ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑÐ¼:\n",
        'other': "Ð”Ñ€ÑƒÐ³Ð¾Ðµ",
        'stats_error': "âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸",
        'expense_recorded': "Ñ€Ð°ÑÑ…Ð¾Ð´ Ð·Ð°Ð¿Ð¸ÑÐ°Ð½!",
        'income_recorded': "Ð´Ð¾Ñ…Ð¾Ð´ Ð·Ð°Ð¿Ð¸ÑÐ°Ð½!",
        'welcome_back': "ÐŸÑ€Ð¸Ð²ÐµÑ‚, {name}! ðŸ‘‹\n\nÐ¢Ñ‹ ÑƒÐ¶Ðµ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½.",
        'welcome_new': "ÐŸÑ€Ð¸Ð²ÐµÑ‚, {name}! ðŸ‘‹\n\nÐ¯ Ñ‚Ð²Ð¾Ð¹ Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº.\n\nÐ”Ð»Ñ Ð½Ð°Ñ‡Ð°Ð»Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹:\n/register - Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ\n/login - Ð²Ñ…Ð¾Ð´",
        'choose_language': "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑÐ·Ñ‹Ðº / Tilni tanlang:",
        'share_phone': "ðŸ“± ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ð½Ð¾Ð¼ÐµÑ€Ð¾Ð¼",
        'intro_ask_name': "Ð”Ð°Ð²Ð°Ð¹ Ð¿Ð¾Ð·Ð½Ð°ÐºÐ¾Ð¼Ð¸Ð¼ÑÑ! ðŸ‘‹\n\nÐšÐ°Ðº Ñ‚ÐµÐ±Ñ Ð·Ð¾Ð²ÑƒÑ‚?",
        'intro_ask_phone': "ÐŸÑ€Ð¸ÑÑ‚Ð½Ð¾ Ð¿Ð¾Ð·Ð½Ð°ÐºÐ¾Ð¼Ð¸Ñ‚ÑŒÑÑ, {name}! ðŸ˜Š\n\nÐŸÐ¾Ð´ÐµÐ»Ð¸ÑÑŒ Ð½Ð¾Ð¼ÐµÑ€Ð¾Ð¼ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°:",
        'register_prompt': "ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒ ÑÐ²Ð¾Ð¹ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð° Ð´Ð»Ñ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸:",
        'use_button': "âŒ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ ÐºÐ½Ð¾Ð¿ÐºÑƒ Ð½Ð¸Ð¶Ðµ",
        'reg_success': "âœ… Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ ÑƒÑÐ¿ÐµÑˆÐ½Ð°!\n\nÐ¢ÐµÐ¿ÐµÑ€ÑŒ Ð¼Ð¾Ð¶ÐµÑˆÑŒ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ Ñ‚Ñ€Ð°Ð½Ð·Ð°ÐºÑ†Ð¸Ð¸.",
        'login_success': "âœ… Ð’Ñ…Ð¾Ð´ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½!",
        'cancelled': "âŒ ÐžÑ‚Ð¼ÐµÐ½ÐµÐ½Ð¾.",
        'listening': "ðŸŽ¤ Ð¡Ð»ÑƒÑˆÐ°ÑŽ...",
        'voice_error': "âŒ ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ñ€Ð°ÑÐ¿Ð¾Ð·Ð½Ð°Ñ‚ÑŒ. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹ ÐµÑ‰Ðµ Ñ€Ð°Ð· Ð¸Ð»Ð¸ Ð½Ð°Ð¿Ð¸ÑˆÐ¸ Ñ‚ÐµÐºÑÑ‚Ð¾Ð¼.",
        'edit_btn': "âœï¸ Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ",
        'delete_btn': "ðŸ—‘ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ",
        'edit_prompt': "âœï¸ **Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ**\n\nÐÐ°Ð¿Ð¸ÑˆÐ¸ Ð½Ð¾Ð²ÑƒÑŽ ÑÑƒÐ¼Ð¼Ñƒ, Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¸Ð»Ð¸ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑŽ:",
        'deleted': "ðŸ—‘ Ð£Ð´Ð°Ð»ÐµÐ½Ð¾",
        'updated': "âœ… ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾!",
        'not_understood': "âŒ ÐÐµ Ð¿Ð¾Ð½ÑÐ». ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹ ÐµÑ‰Ñ‘ Ñ€Ð°Ð·.",
        'error_generic': "âŒ ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°",
        'your_balance': "Ð’Ð°Ñˆ Ð±Ð°Ð»Ð°Ð½Ñ",
        'error_occurred': "ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°",
        'statistics_title': "ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°",
    },
    'en': {
        'auth_required': "â›” Please authenticate first: /start",
        'balance_month': "ðŸ’° **Monthly Balance**\n\n",
        'income': "ðŸ“ˆ Income",
        'expense': "ðŸ“‰ Expense",
        'total': "ðŸ’µ Total",
        'stats_month': "ðŸ“Š **Monthly Statistics**\n\n",
        'balance': "ðŸ’° Balance",
        'by_categories': "By categories:\n",
        'other': "Other",
        'stats_error': "âŒ Error fetching statistics",
        'expense_recorded': "expense recorded!",
        'income_recorded': "income recorded!",
        'welcome_back': "Hi, {name}! ðŸ‘‹\n\nYou are already logged in.",
        'welcome_new': "Hi, {name}! ðŸ‘‹\n\nI am your financial assistant.\n\nTo start:\n/register - register\n/login - login",
        'choose_language': "Choose language:",
        'share_phone': "ðŸ“± Share phone number",
        'intro_ask_name': "Let's meet! ðŸ‘‹\n\nWhat is your name?",
        'intro_ask_phone': "Nice to meet you, {name}! ðŸ˜Š\n\nPlease share your phone number:",
        'register_prompt': "Please share your phone number to register:",
        'use_button': "âŒ Please use the button below",
        'reg_success': "âœ… Registration successful!\n\nYou can now add transactions.",
        'login_success': "âœ… Login successful!",
        'cancelled': "âŒ Cancelled.",
        'listening': "ðŸŽ¤ Listening...",
        'voice_error': "âŒ Could not match voice. Try again or type.",
        'edit_btn': "âœï¸ Edit",
        'delete_btn': "ðŸ—‘ Delete",
        'edit_prompt': "âœï¸ **Editing**\n\nEnter new amount, description or category:",
        'deleted': "ðŸ—‘ Deleted",
        'updated': "âœ… Updated!",
        'not_understood': "âŒ Not understood. Try again.",
        'error_generic': "âŒ Error occurred",
        'your_balance': "Your balance",
        'error_occurred': "Error occurred",
        'statistics_title': "ðŸ“Š Statistics",
    }
}


def get_message(user_lang: str, key: str, **kwargs) -> str:
    """Get localized message by key."""
    lang = user_lang if user_lang in MESSAGES else 'uz'
    msg = MESSAGES[lang].get(key, MESSAGES['uz'].get(key, key))
    
    # Format with kwargs if provided
    if kwargs:
        try:
            return msg.format(**kwargs)
        except:
            return msg
    return msg
